What Time is It Here?
=====================

.. articleMetaData::
   :Where: London, UK
   :Date: 2013-05-14 09:33 Europe/London
   :Tags: blog, mongodb, php, openstreetmap
   :Short: whattime

Finding out what time it is, is often as simple as looking a clock. But when
you need to know the time on another place on Earth, you also need to know in
which timezone you are in. Timezones are a bit more complicated than the
UTC-offset, or a timezone abbreviation (such as GMT or EST). In order to
correctly identify a set of Daylight Saving Time rules (and other changes in
UTC-offset) for a specific you need to know it's `Timezone Identifier`_. These
have the form of *Europe/London* or *America/India/Knox* and any decent sysadm
(and hopefully every developer!) will know what the Timezone Identifier for
their specific area is. It becomes more difficult if you need to know the
Timezone Identifier in a unfamiliar location, such as Indiana_ in the US,
where there are eleven different identifiers.

The *`Olson Database`_* stores to which countries a specific Identifier
belongs, but it does not record which geographical area is associated with it.
Eric Muller provides (ESRI) shape files containing that information through
his website: http://efele.net/maps/tz/world/ . For each Timezone Identifier
there are one or more polygons, where some polygons also have holes in them.
In the case of Italy, that is to exclude `San Marino`_ and `The Vatican`_ for
example but there are a few other examples as well. But we still need to go
from a latitude/longitude pair to a Timezone Identifier.

I already have written about `importing OpenStreetMap data`_ into MongoDB_

.. _`Timezone Identifier`: http://en.wikipedia.org/wiki/Zoneinfo
.. _`Olson Database`: http://en.wikipedia.org/wiki/Zoneinfo
.. _Indiana: http://en.wikipedia.org/wiki/Time_in_Indiana
.. _`San Marino`: http://en.wikipedia.org/wiki/San_marino
.. _`The Vatican`: http://en.wikipedia.org/wiki/Vatican_City
.. _`importing OpenStreetMap data`: 
.. _MongoDB: http://mongodb.org
